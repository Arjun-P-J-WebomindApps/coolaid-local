// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: pricing_similar.sql

package sqlc

import (
	"context"
	"database/sql"
)

const getSimilarPricingByPartNo = `-- name: GetSimilarPricingByPartNo :many
SELECT
    brnd.name as brand_name,
    pr.basic_price,
    pr.freight,
    pr.gst,
    pr.tax,
    pr.ac_workshop,
    pr.ac_workshop_per,
    pr.ac_workshop_amt,
    pr.multibrand_workshop,
    pr.multibrand_workshop_per,
    pr.multibrand_workshop_amt,
    pr.auto_trader,
    pr.auto_trader_per,
    pr.auto_trader_amt,
    pr.ac_trader,
    pr.ac_trader_per,
    pr.ac_trader_amt,
    pr.mrp_temp,
    pr.oem_mrp,
    pr.unit_measure,
    pr.minimum_purchase_quantity
FROM product_parts p
JOIN companies   c   ON c.id   = p.company_id
JOIN models      m   ON m.id   = p.model_id
JOIN categories  cat ON cat.id = p.category_id
JOIN brands brnd     ON brnd.id = p.brand_id
JOIN product_part_pricing pr ON pr.product_part_id = p.id
JOIN model_variants vnts ON vnts.part_no=p.part_no
WHERE 
    c.name = $1
    AND m.name = $2
    AND cat.name = $3
    AND vnts.type=$4
ORDER BY p.part_no
`

type GetSimilarPricingByPartNoParams struct {
	Name   string
	Name_2 string
	Name_3 string
	Type   string
}

type GetSimilarPricingByPartNoRow struct {
	BrandName               string
	BasicPrice              float64
	Freight                 float64
	Gst                     float64
	Tax                     float64
	AcWorkshop              float64
	AcWorkshopPer           float64
	AcWorkshopAmt           float64
	MultibrandWorkshop      float64
	MultibrandWorkshopPer   float64
	MultibrandWorkshopAmt   float64
	AutoTrader              float64
	AutoTraderPer           float64
	AutoTraderAmt           float64
	AcTrader                float64
	AcTraderPer             float64
	AcTraderAmt             float64
	MrpTemp                 float64
	OemMrp                  float64
	UnitMeasure             sql.NullString
	MinimumPurchaseQuantity int32
}

func (q *Queries) GetSimilarPricingByPartNo(ctx context.Context, arg GetSimilarPricingByPartNoParams) ([]GetSimilarPricingByPartNoRow, error) {
	rows, err := q.db.QueryContext(ctx, getSimilarPricingByPartNo,
		arg.Name,
		arg.Name_2,
		arg.Name_3,
		arg.Type,
	)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetSimilarPricingByPartNoRow
	for rows.Next() {
		var i GetSimilarPricingByPartNoRow
		if err := rows.Scan(
			&i.BrandName,
			&i.BasicPrice,
			&i.Freight,
			&i.Gst,
			&i.Tax,
			&i.AcWorkshop,
			&i.AcWorkshopPer,
			&i.AcWorkshopAmt,
			&i.MultibrandWorkshop,
			&i.MultibrandWorkshopPer,
			&i.MultibrandWorkshopAmt,
			&i.AutoTrader,
			&i.AutoTraderPer,
			&i.AutoTraderAmt,
			&i.AcTrader,
			&i.AcTraderPer,
			&i.AcTraderAmt,
			&i.MrpTemp,
			&i.OemMrp,
			&i.UnitMeasure,
			&i.MinimumPurchaseQuantity,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: chiller_unit.sql

package sqlc

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const createChillerUnit = `-- name: CreateChillerUnit :one

INSERT INTO chiller_units
    (id, part_no, type, voltage, notes)
VALUES
    ($1, $2, $3, $4, $5)
RETURNING id, part_no, type, voltage, notes
`

type CreateChillerUnitParams struct {
	ID      uuid.UUID
	PartNo  string
	Type    sql.NullString
	Voltage sql.NullString
	Notes   sql.NullString
}

// ---------------------------------------------------------------------------------------------------------------------------
// Mutation for Chiller Units
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) CreateChillerUnit(ctx context.Context, arg CreateChillerUnitParams) (ChillerUnit, error) {
	row := q.db.QueryRowContext(ctx, createChillerUnit,
		arg.ID,
		arg.PartNo,
		arg.Type,
		arg.Voltage,
		arg.Notes,
	)
	var i ChillerUnit
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.Voltage,
		&i.Notes,
	)
	return i, err
}

const deleteChillerUnitByPartNo = `-- name: DeleteChillerUnitByPartNo :exec
DELETE FROM chiller_units
WHERE part_no=$1
`

func (q *Queries) DeleteChillerUnitByPartNo(ctx context.Context, partNo string) error {
	_, err := q.db.ExecContext(ctx, deleteChillerUnitByPartNo, partNo)
	return err
}

const getChillerUnitByPartNo = `-- name: GetChillerUnitByPartNo :one

SELECT id, part_no, type, voltage, notes
FROM chiller_units
WHERE part_no=$1
`

// ---------------------------------------------------------------------------------------------------------------------------
// Queries for Chiller Units
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) GetChillerUnitByPartNo(ctx context.Context, partNo string) (ChillerUnit, error) {
	row := q.db.QueryRowContext(ctx, getChillerUnitByPartNo, partNo)
	var i ChillerUnit
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.Voltage,
		&i.Notes,
	)
	return i, err
}

const getChillerUnitsForDownload = `-- name: GetChillerUnitsForDownload :many
SELECT id, part_no, type, voltage, notes FROM chiller_units
`

func (q *Queries) GetChillerUnitsForDownload(ctx context.Context) ([]ChillerUnit, error) {
	rows, err := q.db.QueryContext(ctx, getChillerUnitsForDownload)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []ChillerUnit
	for rows.Next() {
		var i ChillerUnit
		if err := rows.Scan(
			&i.ID,
			&i.PartNo,
			&i.Type,
			&i.Voltage,
			&i.Notes,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateChillerUnitByPartNo = `-- name: UpdateChillerUnitByPartNo :one
UPDATE chiller_units AS c SET
  type     = COALESCE($2, c.type),
  voltage  = COALESCE($3, c.voltage),
  notes    = COALESCE($4, c.notes)
WHERE c.part_no=$1
RETURNING id, part_no, type, voltage, notes
`

type UpdateChillerUnitByPartNoParams struct {
	PartNo  string
	Type    sql.NullString
	Voltage sql.NullString
	Notes   sql.NullString
}

func (q *Queries) UpdateChillerUnitByPartNo(ctx context.Context, arg UpdateChillerUnitByPartNoParams) (ChillerUnit, error) {
	row := q.db.QueryRowContext(ctx, updateChillerUnitByPartNo,
		arg.PartNo,
		arg.Type,
		arg.Voltage,
		arg.Notes,
	)
	var i ChillerUnit
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.Voltage,
		&i.Notes,
	)
	return i, err
}

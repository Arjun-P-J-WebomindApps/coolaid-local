// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: daily_number.sql

package sqlc

import (
	"context"
)

const getNextDailyNumber = `-- name: GetNextDailyNumber :one

WITH upsert AS (
  INSERT INTO daily_ticket_counters (ticket_date, last_number)
  VALUES (CURRENT_DATE, 1)
  ON CONFLICT (ticket_date)
  DO UPDATE SET last_number = daily_ticket_counters.last_number + 1
  RETURNING last_number
)
SELECT last_number FROM upsert
`

// ------------------------------------------------------------------------------------------------------------------------------
// Mutation (Daily Number)
// ------------------------------------------------------------------------------------------------------------------------------
func (q *Queries) GetNextDailyNumber(ctx context.Context) (int32, error) {
	row := q.db.QueryRowContext(ctx, getNextDailyNumber)
	var last_number int32
	err := row.Scan(&last_number)
	return last_number, err
}

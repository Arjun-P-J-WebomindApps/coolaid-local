// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: evaporator.sql

package sqlc

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const createEvaporator = `-- name: CreateEvaporator :one

INSERT INTO evaporators
    (id, part_no, mounting, exp_valve, additional_info, dimensions, pipe_connector, notes)
VALUES
    ($1, $2, $3, $4, $5, $6, $7, $8)
RETURNING id, part_no, mounting, exp_valve, additional_info, dimensions, pipe_connector, notes
`

type CreateEvaporatorParams struct {
	ID             uuid.UUID
	PartNo         string
	Mounting       sql.NullString
	ExpValve       sql.NullString
	AdditionalInfo sql.NullString
	Dimensions     sql.NullString
	PipeConnector  sql.NullString
	Notes          sql.NullString
}

// ---------------------------------------------------------------------------------------------------------------------------
// Mutation for Evaporators
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) CreateEvaporator(ctx context.Context, arg CreateEvaporatorParams) (Evaporator, error) {
	row := q.db.QueryRowContext(ctx, createEvaporator,
		arg.ID,
		arg.PartNo,
		arg.Mounting,
		arg.ExpValve,
		arg.AdditionalInfo,
		arg.Dimensions,
		arg.PipeConnector,
		arg.Notes,
	)
	var i Evaporator
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Mounting,
		&i.ExpValve,
		&i.AdditionalInfo,
		&i.Dimensions,
		&i.PipeConnector,
		&i.Notes,
	)
	return i, err
}

const deleteEvaporatorByPartNo = `-- name: DeleteEvaporatorByPartNo :exec
DELETE FROM evaporators
WHERE part_no=$1
`

func (q *Queries) DeleteEvaporatorByPartNo(ctx context.Context, partNo string) error {
	_, err := q.db.ExecContext(ctx, deleteEvaporatorByPartNo, partNo)
	return err
}

const getEvaporatorByPartNo = `-- name: GetEvaporatorByPartNo :one

SELECT id, part_no, mounting, exp_valve, additional_info, dimensions, pipe_connector, notes
FROM evaporators
WHERE part_no=$1
`

// ---------------------------------------------------------------------------------------------------------------------------
// Queries for Evaporators
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) GetEvaporatorByPartNo(ctx context.Context, partNo string) (Evaporator, error) {
	row := q.db.QueryRowContext(ctx, getEvaporatorByPartNo, partNo)
	var i Evaporator
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Mounting,
		&i.ExpValve,
		&i.AdditionalInfo,
		&i.Dimensions,
		&i.PipeConnector,
		&i.Notes,
	)
	return i, err
}

const getEvaporatorsForDownload = `-- name: GetEvaporatorsForDownload :many
SELECT id, part_no, mounting, exp_valve, additional_info, dimensions, pipe_connector, notes FROM evaporators
`

func (q *Queries) GetEvaporatorsForDownload(ctx context.Context) ([]Evaporator, error) {
	rows, err := q.db.QueryContext(ctx, getEvaporatorsForDownload)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Evaporator
	for rows.Next() {
		var i Evaporator
		if err := rows.Scan(
			&i.ID,
			&i.PartNo,
			&i.Mounting,
			&i.ExpValve,
			&i.AdditionalInfo,
			&i.Dimensions,
			&i.PipeConnector,
			&i.Notes,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateEvaporatorByPartNo = `-- name: UpdateEvaporatorByPartNo :one
UPDATE evaporators AS e SET
  mounting         = COALESCE($2, e.mounting),
  exp_valve        = COALESCE($3, e.exp_valve),
  additional_info  = COALESCE($4, e.additional_info),
  dimensions       = COALESCE($5, e.dimensions),
  pipe_connector   = COALESCE($6, e.pipe_connector),
  notes            = COALESCE($7, e.notes)
WHERE e.part_no=$1
RETURNING id, part_no, mounting, exp_valve, additional_info, dimensions, pipe_connector, notes
`

type UpdateEvaporatorByPartNoParams struct {
	PartNo         string
	Mounting       sql.NullString
	ExpValve       sql.NullString
	AdditionalInfo sql.NullString
	Dimensions     sql.NullString
	PipeConnector  sql.NullString
	Notes          sql.NullString
}

func (q *Queries) UpdateEvaporatorByPartNo(ctx context.Context, arg UpdateEvaporatorByPartNoParams) (Evaporator, error) {
	row := q.db.QueryRowContext(ctx, updateEvaporatorByPartNo,
		arg.PartNo,
		arg.Mounting,
		arg.ExpValve,
		arg.AdditionalInfo,
		arg.Dimensions,
		arg.PipeConnector,
		arg.Notes,
	)
	var i Evaporator
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Mounting,
		&i.ExpValve,
		&i.AdditionalInfo,
		&i.Dimensions,
		&i.PipeConnector,
		&i.Notes,
	)
	return i, err
}

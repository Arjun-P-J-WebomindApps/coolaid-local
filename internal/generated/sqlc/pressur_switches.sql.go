// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: pressur_switches.sql

package sqlc

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const createPressureSwitch = `-- name: CreatePressureSwitch :one

INSERT INTO pressure_switches
    (id, part_no, connector_type, thread_type, notes)
VALUES
    ($1, $2, $3, $4, $5)
RETURNING id, part_no, connector_type, thread_type, notes
`

type CreatePressureSwitchParams struct {
	ID            uuid.UUID
	PartNo        string
	ConnectorType sql.NullString
	ThreadType    sql.NullString
	Notes         sql.NullString
}

// ---------------------------------------------------------------------------------------------------------------------------
// Mutation for Pressure Switches
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) CreatePressureSwitch(ctx context.Context, arg CreatePressureSwitchParams) (PressureSwitch, error) {
	row := q.db.QueryRowContext(ctx, createPressureSwitch,
		arg.ID,
		arg.PartNo,
		arg.ConnectorType,
		arg.ThreadType,
		arg.Notes,
	)
	var i PressureSwitch
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.ConnectorType,
		&i.ThreadType,
		&i.Notes,
	)
	return i, err
}

const deletePressureSwitchByPartNo = `-- name: DeletePressureSwitchByPartNo :exec
DELETE FROM pressure_switches
WHERE part_no=$1
`

func (q *Queries) DeletePressureSwitchByPartNo(ctx context.Context, partNo string) error {
	_, err := q.db.ExecContext(ctx, deletePressureSwitchByPartNo, partNo)
	return err
}

const getPressureSwitchByPartNo = `-- name: GetPressureSwitchByPartNo :one

SELECT id, part_no, connector_type, thread_type, notes
FROM pressure_switches
WHERE part_no=$1
`

// ---------------------------------------------------------------------------------------------------------------------------
// Queries for Pressure Switches
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) GetPressureSwitchByPartNo(ctx context.Context, partNo string) (PressureSwitch, error) {
	row := q.db.QueryRowContext(ctx, getPressureSwitchByPartNo, partNo)
	var i PressureSwitch
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.ConnectorType,
		&i.ThreadType,
		&i.Notes,
	)
	return i, err
}

const getPressureSwitchesForDownload = `-- name: GetPressureSwitchesForDownload :many
SELECT id, part_no, connector_type, thread_type, notes FROM pressure_switches
`

func (q *Queries) GetPressureSwitchesForDownload(ctx context.Context) ([]PressureSwitch, error) {
	rows, err := q.db.QueryContext(ctx, getPressureSwitchesForDownload)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []PressureSwitch
	for rows.Next() {
		var i PressureSwitch
		if err := rows.Scan(
			&i.ID,
			&i.PartNo,
			&i.ConnectorType,
			&i.ThreadType,
			&i.Notes,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updatePressureSwitchByPartNo = `-- name: UpdatePressureSwitchByPartNo :one
UPDATE pressure_switches AS ps SET
  connector_type = COALESCE($2, ps.connector_type),
  thread_type    = COALESCE($3, ps.thread_type),
  notes          = COALESCE($4, ps.notes)
WHERE ps.part_no=$1
RETURNING id, part_no, connector_type, thread_type, notes
`

type UpdatePressureSwitchByPartNoParams struct {
	PartNo        string
	ConnectorType sql.NullString
	ThreadType    sql.NullString
	Notes         sql.NullString
}

func (q *Queries) UpdatePressureSwitchByPartNo(ctx context.Context, arg UpdatePressureSwitchByPartNoParams) (PressureSwitch, error) {
	row := q.db.QueryRowContext(ctx, updatePressureSwitchByPartNo,
		arg.PartNo,
		arg.ConnectorType,
		arg.ThreadType,
		arg.Notes,
	)
	var i PressureSwitch
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.ConnectorType,
		&i.ThreadType,
		&i.Notes,
	)
	return i, err
}

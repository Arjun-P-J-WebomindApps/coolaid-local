// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: order_lisiting.sql

package sqlc

import (
	"context"

	"github.com/google/uuid"
)

const createOrderListing = `-- name: CreateOrderListing :one

INSERT INTO orders_listing (
    id,
    part_no,
    quantity
)
VALUES (
    $1,  -- id
    $2,  -- part_no
    $3   -- quantity
)
RETURNING id, part_no, quantity, created_at
`

type CreateOrderListingParams struct {
	ID       uuid.UUID
	PartNo   string
	Quantity int32
}

// -------------------------------------------------------------------
// ‚öôÔ∏è MUTATIONS (Write Operations)
// These statements CREATE, UPDATE, or DELETE data in the database.
// -------------------------------------------------------------------
func (q *Queries) CreateOrderListing(ctx context.Context, arg CreateOrderListingParams) (OrdersListing, error) {
	row := q.db.QueryRowContext(ctx, createOrderListing, arg.ID, arg.PartNo, arg.Quantity)
	var i OrdersListing
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Quantity,
		&i.CreatedAt,
	)
	return i, err
}

const deleteOrderListingById = `-- name: DeleteOrderListingById :exec
DELETE FROM orders_listing
WHERE id = $1
`

func (q *Queries) DeleteOrderListingById(ctx context.Context, id uuid.UUID) error {
	_, err := q.db.ExecContext(ctx, deleteOrderListingById, id)
	return err
}

const getOrderListingByOrderId = `-- name: GetOrderListingByOrderId :many

SELECT id, part_no, quantity, created_at
FROM orders_listing
WHERE id = $1
`

// -------------------------------------------------------------------
// üìò QUERIES (Read Operations)
// These statements only READ data from the database.
// -------------------------------------------------------------------
func (q *Queries) GetOrderListingByOrderId(ctx context.Context, id uuid.UUID) ([]OrdersListing, error) {
	rows, err := q.db.QueryContext(ctx, getOrderListingByOrderId, id)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []OrdersListing
	for rows.Next() {
		var i OrdersListing
		if err := rows.Scan(
			&i.ID,
			&i.PartNo,
			&i.Quantity,
			&i.CreatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateOrderListingById = `-- name: UpdateOrderListingById :one
UPDATE orders_listing
SET
  part_no = COALESCE($2, part_no),
  quantity = COALESCE($3, quantity)
WHERE id = $1
RETURNING id, part_no, quantity, created_at
`

type UpdateOrderListingByIdParams struct {
	ID       uuid.UUID
	PartNo   string
	Quantity int32
}

func (q *Queries) UpdateOrderListingById(ctx context.Context, arg UpdateOrderListingByIdParams) (OrdersListing, error) {
	row := q.db.QueryRowContext(ctx, updateOrderListingById, arg.ID, arg.PartNo, arg.Quantity)
	var i OrdersListing
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Quantity,
		&i.CreatedAt,
	)
	return i, err
}

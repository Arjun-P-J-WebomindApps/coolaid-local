// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: expansion_valves.sql

package sqlc

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const createExpansionValve = `-- name: CreateExpansionValve :one

INSERT INTO expansion_valves
    (id, part_no, type, material, refrigerant, notes)
VALUES
    ($1, $2, $3, $4, $5, $6)
RETURNING id, part_no, type, material, refrigerant, notes
`

type CreateExpansionValveParams struct {
	ID          uuid.UUID
	PartNo      string
	Type        sql.NullString
	Material    sql.NullString
	Refrigerant sql.NullString
	Notes       sql.NullString
}

// ---------------------------------------------------------------------------------------------------------------------------
// Mutation for Expansion Valves
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) CreateExpansionValve(ctx context.Context, arg CreateExpansionValveParams) (ExpansionValf, error) {
	row := q.db.QueryRowContext(ctx, createExpansionValve,
		arg.ID,
		arg.PartNo,
		arg.Type,
		arg.Material,
		arg.Refrigerant,
		arg.Notes,
	)
	var i ExpansionValf
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.Material,
		&i.Refrigerant,
		&i.Notes,
	)
	return i, err
}

const deleteExpansionValveByPartNo = `-- name: DeleteExpansionValveByPartNo :exec
DELETE FROM expansion_valves
WHERE part_no=$1
`

func (q *Queries) DeleteExpansionValveByPartNo(ctx context.Context, partNo string) error {
	_, err := q.db.ExecContext(ctx, deleteExpansionValveByPartNo, partNo)
	return err
}

const getExpansionValveByPartNo = `-- name: GetExpansionValveByPartNo :one

SELECT id, part_no, type, material, refrigerant, notes
FROM expansion_valves
WHERE part_no=$1
`

// ---------------------------------------------------------------------------------------------------------------------------
// Queries for Expansion Valves
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) GetExpansionValveByPartNo(ctx context.Context, partNo string) (ExpansionValf, error) {
	row := q.db.QueryRowContext(ctx, getExpansionValveByPartNo, partNo)
	var i ExpansionValf
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.Material,
		&i.Refrigerant,
		&i.Notes,
	)
	return i, err
}

const getExpansionValvesForDownload = `-- name: GetExpansionValvesForDownload :many
SELECT id, part_no, type, material, refrigerant, notes FROM expansion_valves
`

func (q *Queries) GetExpansionValvesForDownload(ctx context.Context) ([]ExpansionValf, error) {
	rows, err := q.db.QueryContext(ctx, getExpansionValvesForDownload)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []ExpansionValf
	for rows.Next() {
		var i ExpansionValf
		if err := rows.Scan(
			&i.ID,
			&i.PartNo,
			&i.Type,
			&i.Material,
			&i.Refrigerant,
			&i.Notes,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateExpansionValveByPartNo = `-- name: UpdateExpansionValveByPartNo :one
UPDATE expansion_valves AS ev SET
  type       = COALESCE($2, ev.type),
  material   = COALESCE($3, ev.material),
  refrigerant= COALESCE($4, ev.refrigerant),
  notes      = COALESCE($5, ev.notes)
WHERE ev.part_no=$1
RETURNING id, part_no, type, material, refrigerant, notes
`

type UpdateExpansionValveByPartNoParams struct {
	PartNo      string
	Type        sql.NullString
	Material    sql.NullString
	Refrigerant sql.NullString
	Notes       sql.NullString
}

func (q *Queries) UpdateExpansionValveByPartNo(ctx context.Context, arg UpdateExpansionValveByPartNoParams) (ExpansionValf, error) {
	row := q.db.QueryRowContext(ctx, updateExpansionValveByPartNo,
		arg.PartNo,
		arg.Type,
		arg.Material,
		arg.Refrigerant,
		arg.Notes,
	)
	var i ExpansionValf
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.Material,
		&i.Refrigerant,
		&i.Notes,
	)
	return i, err
}

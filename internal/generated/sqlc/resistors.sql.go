// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: resistors.sql

package sqlc

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const createResistor = `-- name: CreateResistor :one

INSERT INTO resistors
    (id, part_no, type, connector_type, voltage, notes)
VALUES
    ($1, $2, $3, $4, $5, $6)
RETURNING id, part_no, type, connector_type, voltage, notes
`

type CreateResistorParams struct {
	ID            uuid.UUID
	PartNo        string
	Type          sql.NullString
	ConnectorType sql.NullString
	Voltage       sql.NullString
	Notes         sql.NullString
}

// ---------------------------------------------------------------------------------------------------------------------------
// Mutation for Resistors
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) CreateResistor(ctx context.Context, arg CreateResistorParams) (Resistor, error) {
	row := q.db.QueryRowContext(ctx, createResistor,
		arg.ID,
		arg.PartNo,
		arg.Type,
		arg.ConnectorType,
		arg.Voltage,
		arg.Notes,
	)
	var i Resistor
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.ConnectorType,
		&i.Voltage,
		&i.Notes,
	)
	return i, err
}

const deleteResistorByPartNo = `-- name: DeleteResistorByPartNo :exec
DELETE FROM resistors
WHERE part_no=$1
`

func (q *Queries) DeleteResistorByPartNo(ctx context.Context, partNo string) error {
	_, err := q.db.ExecContext(ctx, deleteResistorByPartNo, partNo)
	return err
}

const getResistorByPartNo = `-- name: GetResistorByPartNo :one

SELECT id, part_no, type, connector_type, voltage, notes
FROM resistors
WHERE part_no=$1
`

// ---------------------------------------------------------------------------------------------------------------------------
// Queries for Resistors
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) GetResistorByPartNo(ctx context.Context, partNo string) (Resistor, error) {
	row := q.db.QueryRowContext(ctx, getResistorByPartNo, partNo)
	var i Resistor
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.ConnectorType,
		&i.Voltage,
		&i.Notes,
	)
	return i, err
}

const getResistorsForDownload = `-- name: GetResistorsForDownload :many
SELECT id, part_no, type, connector_type, voltage, notes FROM resistors
`

func (q *Queries) GetResistorsForDownload(ctx context.Context) ([]Resistor, error) {
	rows, err := q.db.QueryContext(ctx, getResistorsForDownload)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Resistor
	for rows.Next() {
		var i Resistor
		if err := rows.Scan(
			&i.ID,
			&i.PartNo,
			&i.Type,
			&i.ConnectorType,
			&i.Voltage,
			&i.Notes,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateResistorByPartNo = `-- name: UpdateResistorByPartNo :one
UPDATE resistors AS r SET
  type           = COALESCE($2, r.type),
  connector_type = COALESCE($3, r.connector_type),
  voltage        = COALESCE($4, r.voltage),
  notes          = COALESCE($5, r.notes)
WHERE r.part_no=$1
RETURNING id, part_no, type, connector_type, voltage, notes
`

type UpdateResistorByPartNoParams struct {
	PartNo        string
	Type          sql.NullString
	ConnectorType sql.NullString
	Voltage       sql.NullString
	Notes         sql.NullString
}

func (q *Queries) UpdateResistorByPartNo(ctx context.Context, arg UpdateResistorByPartNoParams) (Resistor, error) {
	row := q.db.QueryRowContext(ctx, updateResistorByPartNo,
		arg.PartNo,
		arg.Type,
		arg.ConnectorType,
		arg.Voltage,
		arg.Notes,
	)
	var i Resistor
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.ConnectorType,
		&i.Voltage,
		&i.Notes,
	)
	return i, err
}

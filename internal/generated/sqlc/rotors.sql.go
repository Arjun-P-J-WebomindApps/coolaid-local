// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: rotors.sql

package sqlc

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const createRotor = `-- name: CreateRotor :one

INSERT INTO rotors
    (id, part_no, pulley_ribs, pulley_size, compressor_details, notes)
VALUES
    ($1, $2, $3, $4, $5, $6)
RETURNING id, part_no, pulley_ribs, pulley_size, compressor_details, notes
`

type CreateRotorParams struct {
	ID                uuid.UUID
	PartNo            string
	PulleyRibs        sql.NullString
	PulleySize        sql.NullString
	CompressorDetails sql.NullString
	Notes             sql.NullString
}

// ---------------------------------------------------------------------------------------------------------------------------
// Mutation for Rotors
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) CreateRotor(ctx context.Context, arg CreateRotorParams) (Rotor, error) {
	row := q.db.QueryRowContext(ctx, createRotor,
		arg.ID,
		arg.PartNo,
		arg.PulleyRibs,
		arg.PulleySize,
		arg.CompressorDetails,
		arg.Notes,
	)
	var i Rotor
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.PulleyRibs,
		&i.PulleySize,
		&i.CompressorDetails,
		&i.Notes,
	)
	return i, err
}

const deleteRotorByPartNo = `-- name: DeleteRotorByPartNo :exec
DELETE FROM rotors
WHERE part_no=$1
`

func (q *Queries) DeleteRotorByPartNo(ctx context.Context, partNo string) error {
	_, err := q.db.ExecContext(ctx, deleteRotorByPartNo, partNo)
	return err
}

const getRotorByPartNo = `-- name: GetRotorByPartNo :one

SELECT id, part_no, pulley_ribs, pulley_size, compressor_details, notes
FROM rotors
WHERE part_no=$1
`

// ---------------------------------------------------------------------------------------------------------------------------
// Queries for Rotors
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) GetRotorByPartNo(ctx context.Context, partNo string) (Rotor, error) {
	row := q.db.QueryRowContext(ctx, getRotorByPartNo, partNo)
	var i Rotor
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.PulleyRibs,
		&i.PulleySize,
		&i.CompressorDetails,
		&i.Notes,
	)
	return i, err
}

const getRotorsForDownload = `-- name: GetRotorsForDownload :many
SELECT id, part_no, pulley_ribs, pulley_size, compressor_details, notes FROM rotors
`

func (q *Queries) GetRotorsForDownload(ctx context.Context) ([]Rotor, error) {
	rows, err := q.db.QueryContext(ctx, getRotorsForDownload)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Rotor
	for rows.Next() {
		var i Rotor
		if err := rows.Scan(
			&i.ID,
			&i.PartNo,
			&i.PulleyRibs,
			&i.PulleySize,
			&i.CompressorDetails,
			&i.Notes,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateRotorByPartNo = `-- name: UpdateRotorByPartNo :one
UPDATE rotors AS r SET
  pulley_ribs         = COALESCE($2, r.pulley_ribs),
  pulley_size         = COALESCE($3, r.pulley_size),
  compressor_details  = COALESCE($4, r.compressor_details),
  notes               = COALESCE($5, r.notes)
WHERE r.part_no=$1
RETURNING id, part_no, pulley_ribs, pulley_size, compressor_details, notes
`

type UpdateRotorByPartNoParams struct {
	PartNo            string
	PulleyRibs        sql.NullString
	PulleySize        sql.NullString
	CompressorDetails sql.NullString
	Notes             sql.NullString
}

func (q *Queries) UpdateRotorByPartNo(ctx context.Context, arg UpdateRotorByPartNoParams) (Rotor, error) {
	row := q.db.QueryRowContext(ctx, updateRotorByPartNo,
		arg.PartNo,
		arg.PulleyRibs,
		arg.PulleySize,
		arg.CompressorDetails,
		arg.Notes,
	)
	var i Rotor
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.PulleyRibs,
		&i.PulleySize,
		&i.CompressorDetails,
		&i.Notes,
	)
	return i, err
}

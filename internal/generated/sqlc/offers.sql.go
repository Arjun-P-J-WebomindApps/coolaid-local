// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: offers.sql

package sqlc

import (
	"context"
	"database/sql"
	"time"

	"github.com/google/uuid"
	"github.com/lib/pq"
)

const createOffer = `-- name: CreateOffer :one

INSERT INTO offer (
    id,
    part_no,
    is_offer_active,
    start_date,
    end_date,
    ac_trader,
    multi_brand,
    autotrader,
    ac_workshop
)
VALUES (
    $1,  -- id
    $2,  -- part_no
    $3,  -- is_offer_active
    $4,  -- start_date
    $5,  -- end_date
    $6,  -- ac_trader (ARRAY)
    $7,  -- multi_brand (ARRAY)
    $8,  -- autotrader (ARRAY)
    $9   -- ac_workshop (ARRAY)
)
RETURNING id, part_no, is_offer_active, start_date, end_date, ac_trader, multi_brand, autotrader, ac_workshop
`

type CreateOfferParams struct {
	ID            uuid.UUID
	PartNo        string
	IsOfferActive sql.NullBool
	StartDate     time.Time
	EndDate       time.Time
	AcTrader      []string
	MultiBrand    []string
	Autotrader    []string
	AcWorkshop    []string
}

// -------------------------------------------------------------------
// ‚öôÔ∏è MUTATIONS (Write Operations)
// These statements CREATE, UPDATE, or DELETE data in the database.
// -------------------------------------------------------------------
func (q *Queries) CreateOffer(ctx context.Context, arg CreateOfferParams) (Offer, error) {
	row := q.db.QueryRowContext(ctx, createOffer,
		arg.ID,
		arg.PartNo,
		arg.IsOfferActive,
		arg.StartDate,
		arg.EndDate,
		pq.Array(arg.AcTrader),
		pq.Array(arg.MultiBrand),
		pq.Array(arg.Autotrader),
		pq.Array(arg.AcWorkshop),
	)
	var i Offer
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.IsOfferActive,
		&i.StartDate,
		&i.EndDate,
		pq.Array(&i.AcTrader),
		pq.Array(&i.MultiBrand),
		pq.Array(&i.Autotrader),
		pq.Array(&i.AcWorkshop),
	)
	return i, err
}

const deleteOfferByPartNo = `-- name: DeleteOfferByPartNo :exec
DELETE FROM offer
WHERE part_no = $1
`

func (q *Queries) DeleteOfferByPartNo(ctx context.Context, partNo string) error {
	_, err := q.db.ExecContext(ctx, deleteOfferByPartNo, partNo)
	return err
}

const getOfferByPartNo = `-- name: GetOfferByPartNo :one

SELECT id, part_no, is_offer_active, start_date, end_date, ac_trader, multi_brand, autotrader, ac_workshop
FROM offer
WHERE part_no = $1
`

// -------------------------------------------------------------------
// üìò QUERIES (Read Operations)
// These statements only READ data from the database.
// -------------------------------------------------------------------
func (q *Queries) GetOfferByPartNo(ctx context.Context, partNo string) (Offer, error) {
	row := q.db.QueryRowContext(ctx, getOfferByPartNo, partNo)
	var i Offer
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.IsOfferActive,
		&i.StartDate,
		&i.EndDate,
		pq.Array(&i.AcTrader),
		pq.Array(&i.MultiBrand),
		pq.Array(&i.Autotrader),
		pq.Array(&i.AcWorkshop),
	)
	return i, err
}

const updateOfferByPartNo = `-- name: UpdateOfferByPartNo :one
UPDATE offer SET
  is_offer_active = COALESCE($2, is_offer_active),
  start_date      = COALESCE($3, start_date),
  end_date        = COALESCE($4, end_date),
  ac_trader       = COALESCE($5, ac_trader),
  multi_brand     = COALESCE($6, multi_brand),
  autotrader      = COALESCE($7, autotrader),
  ac_workshop     = COALESCE($8, ac_workshop)
WHERE part_no = $1
RETURNING id, part_no, is_offer_active, start_date, end_date, ac_trader, multi_brand, autotrader, ac_workshop
`

type UpdateOfferByPartNoParams struct {
	PartNo        string
	IsOfferActive sql.NullBool
	StartDate     time.Time
	EndDate       time.Time
	AcTrader      []string
	MultiBrand    []string
	Autotrader    []string
	AcWorkshop    []string
}

func (q *Queries) UpdateOfferByPartNo(ctx context.Context, arg UpdateOfferByPartNoParams) (Offer, error) {
	row := q.db.QueryRowContext(ctx, updateOfferByPartNo,
		arg.PartNo,
		arg.IsOfferActive,
		arg.StartDate,
		arg.EndDate,
		pq.Array(arg.AcTrader),
		pq.Array(arg.MultiBrand),
		pq.Array(arg.Autotrader),
		pq.Array(arg.AcWorkshop),
	)
	var i Offer
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.IsOfferActive,
		&i.StartDate,
		&i.EndDate,
		pq.Array(&i.AcTrader),
		pq.Array(&i.MultiBrand),
		pq.Array(&i.Autotrader),
		pq.Array(&i.AcWorkshop),
	)
	return i, err
}

// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: stators.sql

package sqlc

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const createStator = `-- name: CreateStator :one

INSERT INTO stators
    (id, part_no, voltage, compressor_details, notes)
VALUES
    ($1, $2, $3, $4, $5)
RETURNING id, part_no, voltage, compressor_details, notes
`

type CreateStatorParams struct {
	ID                uuid.UUID
	PartNo            string
	Voltage           sql.NullString
	CompressorDetails sql.NullString
	Notes             sql.NullString
}

// ---------------------------------------------------------------------------------------------------------------------------
// Mutation for Stators
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) CreateStator(ctx context.Context, arg CreateStatorParams) (Stator, error) {
	row := q.db.QueryRowContext(ctx, createStator,
		arg.ID,
		arg.PartNo,
		arg.Voltage,
		arg.CompressorDetails,
		arg.Notes,
	)
	var i Stator
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Voltage,
		&i.CompressorDetails,
		&i.Notes,
	)
	return i, err
}

const deleteStatorByPartNo = `-- name: DeleteStatorByPartNo :exec
DELETE FROM stators
WHERE part_no=$1
`

func (q *Queries) DeleteStatorByPartNo(ctx context.Context, partNo string) error {
	_, err := q.db.ExecContext(ctx, deleteStatorByPartNo, partNo)
	return err
}

const getStatorByPartNo = `-- name: GetStatorByPartNo :one

SELECT id, part_no, voltage, compressor_details, notes
FROM stators
WHERE part_no=$1
`

// ---------------------------------------------------------------------------------------------------------------------------
// Queries for Stators
// ---------------------------------------------------------------------------------------------------------------------------
func (q *Queries) GetStatorByPartNo(ctx context.Context, partNo string) (Stator, error) {
	row := q.db.QueryRowContext(ctx, getStatorByPartNo, partNo)
	var i Stator
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Voltage,
		&i.CompressorDetails,
		&i.Notes,
	)
	return i, err
}

const getStatorsForDownload = `-- name: GetStatorsForDownload :many
SELECT id, part_no, voltage, compressor_details, notes FROM stators
`

func (q *Queries) GetStatorsForDownload(ctx context.Context) ([]Stator, error) {
	rows, err := q.db.QueryContext(ctx, getStatorsForDownload)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Stator
	for rows.Next() {
		var i Stator
		if err := rows.Scan(
			&i.ID,
			&i.PartNo,
			&i.Voltage,
			&i.CompressorDetails,
			&i.Notes,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateStatorByPartNo = `-- name: UpdateStatorByPartNo :one
UPDATE stators AS s SET
  voltage             = COALESCE($2, s.voltage),
  compressor_details  = COALESCE($3, s.compressor_details),
  notes               = COALESCE($4, s.notes)
WHERE s.part_no=$1
RETURNING id, part_no, voltage, compressor_details, notes
`

type UpdateStatorByPartNoParams struct {
	PartNo            string
	Voltage           sql.NullString
	CompressorDetails sql.NullString
	Notes             sql.NullString
}

func (q *Queries) UpdateStatorByPartNo(ctx context.Context, arg UpdateStatorByPartNoParams) (Stator, error) {
	row := q.db.QueryRowContext(ctx, updateStatorByPartNo,
		arg.PartNo,
		arg.Voltage,
		arg.CompressorDetails,
		arg.Notes,
	)
	var i Stator
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Voltage,
		&i.CompressorDetails,
		&i.Notes,
	)
	return i, err
}

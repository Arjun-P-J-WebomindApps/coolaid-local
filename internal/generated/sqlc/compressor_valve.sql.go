// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: compressor_valve.sql

package sqlc

import (
	"context"
	"database/sql"

	"github.com/google/uuid"
)

const createCompressorValve = `-- name: CreateCompressorValve :one

INSERT INTO compressor_valves (
    id, part_no, type, voltage, connector_type, compressor_details, notes
)
VALUES ($1, $2, $3, $4, $5, $6, $7)
RETURNING id, part_no, type, voltage, connector_type, compressor_details, notes
`

type CreateCompressorValveParams struct {
	ID                uuid.UUID
	PartNo            string
	Type              sql.NullString
	Voltage           sql.NullString
	ConnectorType     sql.NullString
	CompressorDetails sql.NullString
	Notes             sql.NullString
}

// -----------------------------------------------------------------------------------------------------------------------------
// --Mutations
// -----------------------------------------------------------------------------------------------------------------------------
func (q *Queries) CreateCompressorValve(ctx context.Context, arg CreateCompressorValveParams) (CompressorValf, error) {
	row := q.db.QueryRowContext(ctx, createCompressorValve,
		arg.ID,
		arg.PartNo,
		arg.Type,
		arg.Voltage,
		arg.ConnectorType,
		arg.CompressorDetails,
		arg.Notes,
	)
	var i CompressorValf
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.Voltage,
		&i.ConnectorType,
		&i.CompressorDetails,
		&i.Notes,
	)
	return i, err
}

const deleteCompressorValveByPartNo = `-- name: DeleteCompressorValveByPartNo :exec
DELETE FROM compressor_valves
WHERE part_no = $1
`

func (q *Queries) DeleteCompressorValveByPartNo(ctx context.Context, partNo string) error {
	_, err := q.db.ExecContext(ctx, deleteCompressorValveByPartNo, partNo)
	return err
}

const getCompressorValveByPartNo = `-- name: GetCompressorValveByPartNo :one


SELECT id, part_no, type, voltage, connector_type, compressor_details, notes
FROM compressor_valves
WHERE part_no = $1
`

// -----------------------------------------------------------------------------------------------------------------------------
// --Queries
// -----------------------------------------------------------------------------------------------------------------------------
// -------------used to get a compressor valve by part number--#
func (q *Queries) GetCompressorValveByPartNo(ctx context.Context, partNo string) (CompressorValf, error) {
	row := q.db.QueryRowContext(ctx, getCompressorValveByPartNo, partNo)
	var i CompressorValf
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.Voltage,
		&i.ConnectorType,
		&i.CompressorDetails,
		&i.Notes,
	)
	return i, err
}

const getCompressorValvesByType = `-- name: GetCompressorValvesByType :many

SELECT id, part_no, type, voltage, connector_type, compressor_details, notes
FROM compressor_valves
WHERE type = $1
`

// -------------used to search compressor valves by type--#
func (q *Queries) GetCompressorValvesByType(ctx context.Context, type_ sql.NullString) ([]CompressorValf, error) {
	rows, err := q.db.QueryContext(ctx, getCompressorValvesByType, type_)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CompressorValf
	for rows.Next() {
		var i CompressorValf
		if err := rows.Scan(
			&i.ID,
			&i.PartNo,
			&i.Type,
			&i.Voltage,
			&i.ConnectorType,
			&i.CompressorDetails,
			&i.Notes,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getCompressorValvesForDownload = `-- name: GetCompressorValvesForDownload :many
SELECT id, part_no, type, voltage, connector_type, compressor_details, notes FROM compressor_valves
`

func (q *Queries) GetCompressorValvesForDownload(ctx context.Context) ([]CompressorValf, error) {
	rows, err := q.db.QueryContext(ctx, getCompressorValvesForDownload)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []CompressorValf
	for rows.Next() {
		var i CompressorValf
		if err := rows.Scan(
			&i.ID,
			&i.PartNo,
			&i.Type,
			&i.Voltage,
			&i.ConnectorType,
			&i.CompressorDetails,
			&i.Notes,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateCompressorValveByPartNo = `-- name: UpdateCompressorValveByPartNo :one
UPDATE compressor_valves AS cv
SET
    type               = COALESCE($2, cv.type),
    voltage            = COALESCE($3, cv.voltage),
    connector_type     = COALESCE($4, cv.connector_type),
    compressor_details = COALESCE($5, cv.compressor_details),
    notes              = COALESCE($6, cv.notes)
WHERE part_no = $1
RETURNING id, part_no, type, voltage, connector_type, compressor_details, notes
`

type UpdateCompressorValveByPartNoParams struct {
	PartNo            string
	Type              sql.NullString
	Voltage           sql.NullString
	ConnectorType     sql.NullString
	CompressorDetails sql.NullString
	Notes             sql.NullString
}

func (q *Queries) UpdateCompressorValveByPartNo(ctx context.Context, arg UpdateCompressorValveByPartNoParams) (CompressorValf, error) {
	row := q.db.QueryRowContext(ctx, updateCompressorValveByPartNo,
		arg.PartNo,
		arg.Type,
		arg.Voltage,
		arg.ConnectorType,
		arg.CompressorDetails,
		arg.Notes,
	)
	var i CompressorValf
	err := row.Scan(
		&i.ID,
		&i.PartNo,
		&i.Type,
		&i.Voltage,
		&i.ConnectorType,
		&i.CompressorDetails,
		&i.Notes,
	)
	return i, err
}
